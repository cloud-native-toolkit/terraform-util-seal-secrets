id: github.com/cloud-native-toolkit/terraform-util-seal-secrets
name: seal-secrets-util
type: terraform
description: Module to encrypt or "seal" kube secrets using kubeseal cli and provided cert. Each of the yaml files in the `source_dir` is encrypted with the cert and written into the `dest_dir` directory.
tags:
  - sealed secrets
  - util
versions:
  - platforms: []
    dependencies: []
    variables: [{name: source_dir, type: string, description: The directory containing the secrets that will be encrypted using the cert}, {name: dest_dir, type: string, description: The directory where the sealed secrets will be written. If the directory does not exist it will be created}, {name: kubeseal_cert, type: string, description: The certificate/public key used to encrypt the sealed secrets}, {name: label, type: string, description: The label for the collection of secrets}]
    version: v1.0.2
    outputs:
      - name: dest_dir
        description: The destination directory for the sealed secrets
  - platforms: []
    dependencies: []
    variables: [{name: source_dir, type: string, description: The directory containing the secrets that will be encrypted using the cert}, {name: dest_dir, type: string, description: The directory where the sealed secrets will be written. If the directory does not exist it will be created}, {name: kubeseal_cert, type: string, description: The certificate/public key used to encrypt the sealed secrets, default: "", optional: true}, {name: label, type: string, description: The label for the collection of secrets}]
    version: v1.0.1
    outputs:
      - name: dest_dir
        description: The destination directory for the sealed secrets
      - name: sealed_secrets
        description: List of secret files that were sealed by the cert
  - platforms: []
    dependencies: []
    variables: [{name: source_dir, type: string, description: The directory containing the secrets that will be encrypted using the cert}, {name: dest_dir, type: string, description: The directory where the sealed secrets will be written. If the directory does not exist it will be created}, {name: kubeseal_cert, type: string, description: The certificate/public key used to encrypt the sealed secrets, default: "", optional: true}, {name: label, type: string, description: The label for the collection of secrets}]
    version: v1.0.0
    outputs:
      - name: dest_dir
        description: The destination directory for the sealed secrets
      - name: sealed_secrets
        description: List of secret files that were sealed by the cert
  - platforms:
      - kubernetes
      - ocp3
      - ocp4
    dependencies: []
    #    - id: cluster
    #      refs:
    #        - source: github.com/ibm-garage-cloud/terraform-ibm-container-platform
    #          version: ">= 1.7.0"
    #        - source: github.com/ibm-garage-cloud/terraform-k8s-ocp-cluster
    #          version: ">= 2.0.0"
    #    - id: namespace
    #      refs:
    #        - source: github.com/ibm-garage-cloud/terraform-k8s-namespace
    #          version: ">= 2.1.0"
    #    - id: dashboard
    #      refs:
    #        - source: github.com/ibm-garage-cloud/terraform-k8s-dashboard
    #          version: ">= 1.6.0"
    variables: []
    version: v0.0.0
